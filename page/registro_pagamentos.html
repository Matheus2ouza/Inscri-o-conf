<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../style/registro_pagamentos.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <title>Inscrição e Ticket</title>
</head>
<body>
    <nav>
        <div class="nav-left">
            <ul>
                <li><a class="title">Conferência Regional - R2</a></li>
            </ul>
        </div>

        <div class="nav-center">
            <div class="navbar-links">
                <a href="#" class="inscricao-link">Inscrição</a>
                <a href="#" class="ticket-link">Ticket</a>
                <a href="#" class="expenses-link">Movimentação</a>
            </div>
        </div>

        <div class="nav-right">
            <input type="checkbox" class="checkbox" id="chk">
            <label for="chk" class="label">
                <i class="bi bi-brightness-high-fill"></i>
                <i class="bi bi-moon-fill"></i>
                <div class="ball"></div>
            </label>
        </div>
    </nav>

    <div class="registration-content">
        <h1>Inscrição Avulsa</h1>
        <form>
            <div class="form-container">
                <div class="form-group-register">
                    <div class="form-localidade">
                        <label for="input1">Localidade:</label>
                        <div class="input-container">
                            <input type="text" id="input1" autocomplete="off" placeholder="Selecione o nome da cidade">
                            <div id="suggestions" class="suggestions"></div>
                        </div>
                    </div>
                    <div class="form-nome-register">
                        <label for="input1">Nome do Responsavel:</label>
                        <div class="input-container">
                            <input type="text" id="nameRespons" autocomplete="off" placeholder="Coloque o nome e sobrenome">
                            <div id="suggestions" class="suggestions"></div>
                        </div>
                    </div>
                </div>
                </div>
    
                <div class="registration-table-container">
                    <div class="registration-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>Faixa Etária</th>
                                    <th>Masculino</th>
                                    <th>Feminino</th>
                                    <th>Valor</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>0-6</td>
                                    <td><input type="number" placeholder="0" class="masculino"></td>
                                    <td><input type="number" placeholder="0" class="feminino"></td>
                                    <td><input type="number" placeholder="Valor" class="valor" value="0"></td>
                                </tr>
                                <tr>
                                    <td>7-10</td>
                                    <td><input type="number" placeholder="0" class="masculino"></td>
                                    <td><input type="number" placeholder="0" class="feminino"></td>
                                    <td><input type="number" placeholder="Valor" class="valor" value="0"></td>
                                </tr>
                                <tr>
                                    <td>10+</td>
                                    <td><input type="number" placeholder="0" class="masculino"></td>
                                    <td><input type="number" placeholder="0" class="feminino"></td>
                                    <td><input type="number" placeholder="Valor" class="valor" value="100"></td>
                                </tr>
                                <tr>
                                    <td>Visitante</td>
                                    <td><input type="number" placeholder="0" class="masculino"></td>
                                    <td><input type="number" placeholder="0" class="feminino"></td>
                                    <td><input type="number" placeholder="Valor" class="valor" value="0"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="totais">
                        <h2>Totais</h2>
                        <div class="total-row">
                            <!-- Total para faixa 0-6 -->
                            <div class="total-item" data-faixa="0-6">
                                <span class="age-group">0-6:</span>
                                <span class="total-quantity">0</span>
                                <span class="total-value">R$ 0,00</span>
                            </div>
                    
                            <!-- Total para faixa 7-10 -->
                            <div class="total-item" data-faixa="7-10">
                                <span class="age-group">7-10:</span>
                                <span class="total-quantity">0</span>
                                <span class="total-value">R$ 0,00</span>
                            </div>
                    
                            <!-- Total para faixa 10+ -->
                            <div class="total-item" data-faixa="10plus">
                                <span class="age-group">10+:</span>
                                <span class="total-quantity">0</span>
                                <span class="total-value">R$ 0,00</span>
                            </div>
                    
                            <!-- Total para visitantes -->
                            <div class="total-item" data-faixa="visitante">
                                <span class="age-group">Visitante:</span>
                                <span class="total-quantity">0</span>
                                <span class="total-value">R$ 0,00</span>
                            </div>
                    
                            <!-- Total Geral -->
                            <div class="total-item geral">
                                <span>Total Quantidade:</span>
                                <span class="total-qtd geral">0</span>
                            </div>
                            <div class="total-item geral">
                                <span>Total Geral:</span>
                                <span id="total-value-geral" class="total-value geral">R$ 0,00</span>
                            </div>
                        </div>                        
                    </div>                    
                </div>
            </div>
        </form>
    
        <button class="btn-registration">GERAR PAGAMENTO</button>
    
        <!-- Modal de Pagamento -->
        <div id="payment-modal" class="payment-modal">
            <div class="payment-modal-content">
                <span class="close-btn" id="close-payment-modal">&times;</span>
                <h2>Selecione a Forma de Pagamento</h2>
                <!-- Total Geral e Valor Final -->
                <div class="payment-info-wrapper">
                    <!-- Coluna única com total geral -->
                    <div class="payment-info-left">
                        <p><strong>Localidade:</strong> <label id="locality-modal"></label></p>
                    </div>
                    
                    <!-- Coluna única com total geral -->
                    <div class="payment-info-left">
                        <p><strong>Quantidade Total:</strong> <label id="total-quantity-modal"></label></p>
                    </div>

                    <!-- Coluna central com valor final -->
                    <div class="payment-info-center">
                        <p><strong>Valor Final:</strong> <label id="total-value-modal"></label></p>
                    </div>
                </div>
                
                <div class="grup-payment-grup">
                    <div class="input-group-payment">
                        <div class="icon-add">
                            <i class="bi bi-plus-circle-fill"></i>
                        </div>
    
                        <div class="input-group-payment-left">
                            <label for="payment-type">Forma de pagamento:</label>
                            <select class="select-payment" id="payment-type">
                                <option value="Dinheiro">Dinheiro</option>
                                <option value="PIX">PIX</option>
                                <option value="Debito">Débito</option>
                                <option value="Credito">Crédito</option>
                            </select>
                        </div>
    
                        <div class="input-group-payment-right">
                            <label for="amount">Valor:</label>
                            <input type="number" class="input-amount" id="amount" placeholder="R$ 00,00">
                        </div>
                    </div>
                </div>
                <div class="payment-button-container">
                    <button type="button" class="btn-submit-payment">Finalizar Pagamento</button>
                </div>
            </div>
        </div>
    </div>

    <div class="ticket-content">
        <!-- Botões -->
        <button class="btn-config-ticket">Configurar Ticket</button>
        <button class="btn-ticket-sale">Adicionar Venda</button>
    
        <!-- Popup de configuração de ticket -->
        <div class="ticket-popup-container">
            <div class="ticket-popup">
                <span class="close-popup" id="close-popup-ticket">&times;</span>
                <h1>Configuração de Ticket</h1>

                <form id="ticket-config-form">
                    <div class="form-group">
                        <label for="day-select">Dia da Semana:</label>
                        <select id="day-select" class="select-day">
                            <option value="segunda">Segunda-feira</option>
                            <option value="terça">Terça-feira</option>
                            <option value="quarta">Quarta-feira</option>
                            <option value="quinta">Quinta-feira</option>
                            <option value="sexta">Sexta-feira</option>
                            <option value="sexta">Sabado</option>
                            <option value="sexta">Domingo</option>
                        </select>
                    </div>
    
                    <div class="form-group">
                        <label for="meal-select">Tipo de Refeição:</label>
                        <select id="meal-select" class="select-meal">
                            <option value="Café">Café</option>
                            <option value="Almoço">Almoço</option>
                            <option value="Janta">Janta</option>
                        </select>
                    </div>
    
                    <div class="form-group">
                        <label for="ticket-value">Valor do Ticket (R$):</label>
                        <input type="number" id="ticket-value" placeholder="R$ 00,00" class="ticket-value">
                    </div>
    
                    <button type="button" class="btn-save-ticket">Salvar Configuração</button>
                </form>
            </div>
        </div>
    
        <!-- Popup de venda de ticket -->
        <div class="ticket-sale-popup-container">
            <div class="ticket-sale-popup">
                <span class="close-popup" id="close-popup-sale"></span>
                <h1>Venda de Ticket</h1>
                
                <form id="ticket-sale-form">
                    <div class="form-group">
                        <label for="meal-sale-select">Escolha a Refeição:</label>
                        <select id="meal-sale-select" class="meal-sale-select">
                            <option value="">Nenhuma Refeição criada</option>
                            <!-- As opções de refeições configuradas serão inseridas aqui -->
                        </select>
                    </div>
                    <div class="form-group">
                        <h3 class="details-subtitle">Detalhes da Refeição</h3>
                        <div id="meal-details" class="meal-details">
                            <div class="detail-item">
                                <p><strong>Dia:</strong></p>
                                <p id="meal-day"></p>
                            </div>
                            <div class="detail-item">
                                <p><strong>Refeição:</strong></p>
                                <p id="meal-type"></p>
                            </div>
                            <div class="detail-item">
                                <p><strong>Valor:</strong></p>
                                <p>R$ <span id="meal-value"></span></p>
                            </div>
                            <div class="detail-item">
                                <p><strong>Valor Total:</strong></p>
                                <p>R$ <span id="meal-value-total"></span></p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Formulário para a quantidade e formas de pagamento -->
                    <div class="form-group">
                        <label for="ticket-quantity">Quantidade Vendida:</label>
                        <input type="number" id="ticket-quantity" placeholder="Quantidade" class="ticket-quantity">
                    </div>
        
                    <!-- Grupo de pagamento -->
                    <div class="payment-group-ticket">
                        <div class="ticket-payment">
                            <div class="payment-header">
                                <i class="bi bi-plus-circle-fill add-payment"></i>
                            </div>
                            <div class="payment-field">
                                <div class="payment-info-left">
                                    <label for="payment-method">Método de pagamento:</label>
                                    <select class="payment-method-select" name="payment-method">
                                        <option value="Dinheiro">Dinheiro</option>
                                        <option value="PIX">PIX</option>
                                        <option value="Débito">Débito</option>
                                        <option value="Crédito">Crédito</option>
                                    </select>
                                </div>
                                <div class="payment-info-right">
                                    <label for="payment-amount">Valor:</label>
                                    <input type="number" class="payment-amount-input" name="payment-amount" placeholder="R$ 00,00">
                                </div>
                            </div>
                        </div>
                    </div>

                    
                    <!-- Botão de registrar venda -->
                    <button type="button" class="btn-save-sale">Registrar Venda</button>
                </form>
            </div>            
        </div>
        
        
        <!-- Painel de informações -->
        <div class="info-panel">
            <h2>Definições de Refeição</h2>

            <!-- Tabela de Refeições -->
            <div class="table-container">
                <table id="meal-table">
                    <thead>
                        <tr>
                            <th>Refeição</th>
                            <th>Valor</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- As refeições serão inseridas aqui -->
                    </tbody>
                </table>
            </div>

            <!-- Botão para limpar as configurações -->
            <button type="button" class="btn-clear-ticket">Limpar Configurações</button>
        </div>

        <div class="meal-history">
            <div class="meal-history-container">
                <button class="refresh-history">
                    <i class="bi bi-arrow-clockwise"></i>
                </button>
                
                <!-- Tela quando não há histórico -->
                <div class="no-history">
                    <h3>Nenhum histórico de vendas</h3>
                </div>
        
                <!-- Tela com histórico -->
                <div class="history">
                    <h3>Histórico de Vendas</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Dia</th>
                                <th>Refeição</th>
                                <th>Quantidade</th>
                                <th>Valor Total</th>
                            </tr>
                        </thead>
                        <tbody id="meal-history-table-body">
                            <!-- As linhas da tabela serão inseridas aqui via JS -->
                        </tbody>
                    </table>                    
                </div>
            </div>
        </div>        

    </div>
    
        
    <div class="expenses-content">
        <button class="button-add-exit">Adicionar Saida</button>

        <div class="container-table-exit">
            <h2 class="title-exit">Tabela de Saida</h2>
            <button class="refresh-exit">
                <i class="bi bi-arrow-clockwise"></i>
            </button>

            <div class="no-exit-table">
                <h3>Nenhuma saida registrada</h3>
            </div>
        
            <!-- Adicionando a tabela após o botão -->
            <table class="exit-table">
                <thead>
                    <tr>
                        <th class="col-numero">Nº</th>
                        <th class="col-tipo">Tipo</th>
                        <th class="col-responsavel">Responsável</th>
                        <th class="col-descricao">Descrição</th>
                        <th class="col-valor">Valor</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
            
        </div>

        <div class="pop-up-exit">
            <div class="pop-up-content">
                <span class="close-btn-exit">&times;</span> <!-- Botão de fechar com &times; -->
                <h2>Registro de Saída</h2>
                <form>
                    <label for="tipo">Tipo:</label>
                    <select id="tipo" name="tipo" required>
                        <option value="">Selecione um tipo</option>
                        <option value="Entrada">Entrada</option>
                        <option value="Saida">Saída</option>
                    </select>
        
                    <label for="responsavel">Responsável:</label>
                    <input type="text" id="responsavel" name="responsavel" required>
        
                    <label for="descricao">Descrição:</label>
                    <textarea id="descricao" name="descricao" rows="4" required></textarea>
        
                    <label for="valor">Valor:</label>
                    <input type="number" id="valor" name="valor" required>
        
                    <button type="submit" class="btn-register-exit">Registrar</button>
                </form>
            </div>
        </div>
        
        
        
    </div>
    

    <div class="loader-background">
        <div class="simple-loader"></div>
    </div>    
    
    <script type="module" src="../src/registro_pagamentos.js"></script>
</body>
</html>
